# TextMeaningFinder

macOS上で動作する、選択したテキストの意味をGoogle Gemini LLMで解析するアプリケーションです。

## 機能
- macOS上でテキストを選択
- キーボードショートカット操作：
  - 意味解析モード：Command+Shift+,（カンマ）で選択したテキストの意味をLLMに問い合わせ
  - 翻訳モード：Command+Shift+.（ピリオド）で選択したテキストを翻訳
- 通知ポップアップでLLMからの回答を表示
- メニューバーからの操作が可能
- モード切替機能（意味解析モード/翻訳モード）
- デバッグモード搭載

## 必要条件
- macOS 10.15以上
- Python 3.8以上
- Google Gemini API キー

## インストール方法
1. このリポジトリをクローン
2. `pip install -r requirements.txt`で依存関係をインストール
3. `.env`ファイルにGoogle Gemini APIキーを設定
4. `python main.py`を実行

## 使い方
1. アプリケーションを起動すると、メニューバーに「意味検索/翻訳」アイコンが表示されます
2. 任意のアプリケーションでテキストを選択
3. 以下のいずれかの方法で操作：
   - キーボードショートカット：
     - 意味解析：Command+Shift+,（カンマ）
     - 翻訳：Command+Shift+.（ピリオド）
   - メニューバーから選択：
     - 「選択したテキストの意味を調べる」
     - 「選択したテキストを翻訳する」
4. ダイアログに処理結果が表示されます

## Automatorでの自動起動設定
1. Automatorを開き、新規アプリケーションを作成
2. 「シェルスクリプトを実行」アクションを追加
3. 以下のスクリプトを入力：
   ```bash
   cd /path/to/your/app/directory  # アプリケーションのディレクトリに変更
   source .venv/bin/activate       # 仮想環境を有効化
   python main.py                  # アプリケーションを起動
   ```
4. アプリケーションとして保存
5. システム環境設定 > ユーザーとグループ > ログイン項目に保存したアプリケーションを追加

## 機能詳細
### 意味解析モード
- 選択したテキストの内容を50-100文字程度の日本語で簡潔に説明
- 専門用語がある場合は、その短い説明も含む

### 翻訳モード
- 選択したテキストの日本語訳を表示
- 重要な単語や表現の類似語/同義語（英語で3-5個）を表示

### 設定のカスタマイズ
- `.env`ファイルで以下の設定が可能：
  - APIキー設定
  - キーボードショートカットのカスタマイズ
  - デバッグモードの切替

## 注意事項
- 初回実行時にmacOSからアクセシビリティの許可を求められます。キーボードショートカットを使用するには、この許可を与える必要があります。
- APIキーは`.env`ファイルで管理し、`.gitignore`に含めることで安全に保護されます。
- デバッグモードを有効にすると、詳細なログが出力されます。 